# 核心模块结构

Cetus CLMM 协议围绕模块化架构构建，每个组件在整体系统中都有特定的作用。理解这些模块之间的关系对于掌握协议的工作原理至关重要。

## 模块间依赖关系

核心模块以明确定义的方式进行交互：

### Pool 模块（中心枢纽）
`pool` 模块是协调大多数操作的中心组件。它管理：
- 交易功能（交换）
- 流动性提供和移除
- 位置跟踪和管理
- 费用计算和分发
- 奖励分发协调

### Position 模块（用户位置）
`position` 模块处理面向用户的仓位管理：
- 仓位 NFT 创建和管理
- 仓位元数据和显示信息
- 仓位的流动性计算
- 奖励累积跟踪

### Factory 模块（池创建）
`factory` 模块管理池生命周期：
- 池创建和初始化
- 池键生成和验证
- 池创建的权限管理
- 代币类型验证和限制

### Rewarder 模块（激励）
`rewarder` 模块实现激励系统：
- 多奖励代币支持
- 基于流动性的奖励分发
- 基于积分的奖励分配机制
- 奖励资产的保险库管理

### Tick 模块（价格管理）
`tick` 模块处理离散价格点：
- 刻度初始化和管理
- 特定价格水平的流动性跟踪
- 刻度上的费用和奖励累积
- 用于价格索引的高效数据结构

## 数据流和控制流

1. **池创建**：Factory 模块创建池并注册
2. **仓位管理**：用户通过 position 模块与仓位交互
3. **交易操作**：Pool 模块处理交换和流动性更新
4. **奖励分发**：Pool 模块与 rewarder 模块协调奖励处理
5. **价格管理**：Tick 模块维护价格点和流动性分布

## 关键数据结构

每个模块都实现了特定的数据结构，构成了系统的骨干：

- **Pool**：包含流动性、费用和价格等状态的主要池结构
- **Position**：带有 NFT 标识的用户仓位跟踪
- **TickManager**：价格刻度信息的高效存储和检索
- **RewarderManager**：奖励分发系统的配置和状态
- **Pools**：Factory 管理的系统中所有池的列表

这种模块化方法允许清晰的关注点分离，使系统更容易维护、扩展和调试。